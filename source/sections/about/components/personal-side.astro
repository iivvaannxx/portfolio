---
import { Picture } from "astro:assets";
import { Icon } from "astro-icon/components";
import type { HTMLAttributes } from "astro/types";

import { getTranslations } from "@modules/i18n";

import pizzaEmoji from "../assets/emojis/pizza.png";
import gamepadEmoji from "../assets/emojis/gamepad.png";

type Props = HTMLAttributes<"article">;

const { locale } = Astro.locals;
const translations = getTranslations(locale);
const t = translations.sections.about.bento.aboutMe;
---

<article {...Astro.props}>
  <header
    class="flex items-center gap-4 text-balance font-header text-xl font-bold"
  >
    <picture>
      <source
        srcset="/images/emojis/hand/hand.webp"
        type="image/webp"
      />
      <source
        srcset="/images/emojis/hand/hand.png"
        type="image/png"
      />
      <source
        srcset="/images/emojis/hand/hand.avif"
        type="image/avif"
      />
      <img
        src="/images/emojis/hand/hand.gif"
        width={64}
        height={64}
        decoding="async"
        loading="lazy"
        class="size-[1.5em]"
      />
    </picture>
    <h3 class="mt-3 capitalize">My personal side</h3>
  </header>

  <div class="flex h-full flex-col">
    <div class="h-[60%]">
      <p
        class="mt-8 text-pretty text-base text-foreground/80"
        set:html={t.text[2]}
      />

      <p
        class="mt-6 text-pretty text-base text-foreground/80"
        set:html={t.text[3]}
      />
    </div>

    <div class="relative mb-8 h-[40%]">
      <div
        class:list={[
          "absolute aspect-square w-1/4 -translate-x-1/2 -translate-y-1/2 animate-float",
          "left-[12.5%] top-[40%] min-w-[80px] max-w-[4.5em] rotate-[75deg]",
          "xs:min-w-[5.5em] xs:max-w-[7.5em]",
          "md:max-w-[10em]",
          "lg:left-[25%] lg:top-[20%] lg:max-w-[8.5em]",
          "xl:left-[18%] xl:top-[25%] xl:max-w-[10em]",
        ]}
      >
        <Picture
          src={pizzaEmoji}
          alt={"Pizza"}
          formats={["avif", "webp", "png"]}
        />

        <p
          class:list={[
            "absolute bottom-1/4 left-0 -z-10 w-full min-w-max translate-x-1/2 -rotate-90 rounded-full border text-center",
            "bg-[#1d1b1b] px-[1em] py-[0.5em]",
            "xs:bottom-1/3 xs:text-xs",
          ]}
        >
          <span>
            <Icon
              class="mx-px mb-px inline size-[1.15em]"
              name="heart"
            />
            <span class="sr-only">{translations.misc.loveIconSr}</span>
          </span>
          <span class="ml-0.5"> Pizza </span>
        </p>
      </div>

      <div
        class:list={[
          "absolute left-1/2 top-[60%] aspect-square w-1/4 min-w-[80px] max-w-[4.5em] -translate-x-1/2 -translate-y-1/2",
          "xs:min-w-[5.5em] xs:max-w-[7.5em]",
          "md:max-w-[10em]",
          "lg:top-[70%] lg:max-w-[8.5em]",
          "xl:max-w-[10em]",
        ]}
      >
        <picture>
          <source
            srcset="/images/emojis/dog/dog.avif"
            type="image/avif"
          />
          <source
            srcset="/images/emojis/dog/dog.webp"
            type="image/webp"
          />
          <source
            srcset="/images/emojis/dog/dog.png"
            type="image/png"
          />
          <img
            src="/images/emojis/dog/dog.gif"
            alt={t.dogEmojiAlt}
            width={116}
            height={116}
            decoding="async"
            loading="lazy"
          />
        </picture>

        <p
          class:list={[
            "absolute -bottom-6 z-10 w-full min-w-max -translate-x-1/2 rounded-full border text-center",
            "left-[55%] bg-[#1d1b1b] px-[1em] py-[0.5em]",
            "xs:text-xs",
          ]}
        >
          <span>
            <Icon
              class="mx-px mb-px inline size-[1.15em]"
              name="heart"
            />
            <span class="sr-only">{translations.misc.loveIconSr}</span>
          </span>
          <span class="ml-0.5"> {t.dogEmojiText} </span>
        </p>
      </div>

      <div
        class:list={[
          "absolute aspect-square w-1/4 -translate-x-1/2 -translate-y-1/2 rotate-12 animate-float animate-delay-1000",
          "left-[90%] top-[35%] min-w-[80px] max-w-[4.5em]",
          "xs:min-w-[5.5em] xs:max-w-[7.5em]",
          "md:max-w-[10em]",
          "lg:top-[30%] lg:max-w-[8.5em]",
          "xl:left-[85%] xl:max-w-[10em]",
        ]}
      >
        <Picture
          src={gamepadEmoji}
          alt={t.gamepadEmojiAlt}
          formats={["avif", "webp", "png"]}
        />

        <p
          class:list={[
            "absolute -bottom-6 left-1/2 -z-10 w-full min-w-max -translate-x-1/2 rounded-full border text-center",
            "bg-[#1d1b1b] px-[1em] py-[0.5em]",
            "xs:text-xs",
          ]}
        >
          <span>
            <Icon
              class="mx-px mb-px inline size-[1.15em]"
              name="heart"
            />
            <span class="sr-only">{translations.misc.loveIconSr}</span>
          </span>
          <span class="ml-0.5"> {t.gameEmojiText} </span>
        </p>
      </div>
    </div>
  </div>
</article>
