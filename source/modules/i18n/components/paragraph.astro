---
import type { HTMLAttributes } from "astro/types";

export type Props = HTMLAttributes<"p"> & {
  text: string;
};

// Retrieve the text and split by custom newline token.
const { text, ...rest } = Astro.props;
const paragraphs = text.split("{newline}");
---

{
  paragraphs.map((paragraph: string) => (
    <p
      set:html={paragraph}
      {...rest}
    />
  ))
}
